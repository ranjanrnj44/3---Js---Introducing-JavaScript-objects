<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
</head>

<body>
    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

    <script>
        // reduce takes 4 arguments unlike all other array methods, it also changes the original value
        //it reduces into single value
        //reduce is often used in REDUX state management

        /* 4 arguments are :
              accumulator - acc {accumulates all callbacks and returs the value ===> initial value}
              current value - current value being processed
              index - contains indexes for the value
              array - original array
        */

        // NORMAL for loop
        let arr = [3, 4, 5, 2];
        let sum = 0;
        for (let i = 0; i < arr.length; i++) {
            console.log(sum += arr[i]);
        }



        //in reduce method we can achive it more easier
        let arra = [7, 8, 6];
        let x = arra.reduce((acc, item) => {
            return acc + item;
        }, 0);
        console.log(x);



        /* calculating total population, NOTE: This 1 is from object, totalling a specific prop's value
           alone, getting by for loop it is complicated, but it can be achived by reduce in a easy way */
        let humans = [{
            name: "india",
            population: 5,
            lifestyle: "good"
        }, {
            name: "china",
            population: 6,
            lifestyle: "good"
        }, {
            name: "usa",
            population: 5,
            lifestyle: "good"
        }, {
            name: "uk",
            population: 8,
            lifestyle: "good"
        }];

        let y = humans.reduce((acc, value) => {
            return value.name == "india" ? acc : acc + value.population;
        }, 0); // here i'm using 1st value's value, checck this
        console.log(`Total populations are : ${y}`);



        //same example
        let data = [{
            country: 'China',
            pop: 1,
        }, {
            country: 'India',
            pop: 2,
        }, {
            country: 'USA',
            pop: 3,
        }, {
            country: 'Indonesia',
            pop: 4,
        }];

        let su = data.reduce((acc, val) => {
            return val.country == 'China' ? acc : acc + val.pop;
        }, 0);
        console.log(` Final value is : ${su}`);



        //sum-ming all the values from object's value
        let my_val = [{
            x: 1
        }, {
            x: 2
        }, {
            x: 3
        }];

        let z = my_val.reduce((acc, item) => {
            return acc + item.x;
        }, 0);
        console.log(z);



        //remove the duplicate values
        let my_vals = ["a", "b", "c", "S", "a", 1, 1, 3, 4, 5, 4];
        let r = my_vals.reduce((acc, item) => {
            if (acc.indexOf(item) === -1) {
                acc.push(item);
            }
            return acc;
        }, []);
        console.log(r);



        //changing object structure;
        let my_obj = [{
            name: "jan",
            type: "ice"
        }, {
            name: "kevin",
            type: "fire"
        }, {
            name: "kapil",
            type: "sand"
        }];

        let change = my_obj.reduce((acc, item) => {
            acc[item.name] = {
                type: item.type
            }
            return acc;
        }, {});

        console.log(change);



        // flatterning the array
        let flat = [
            [1, 2], 333, 4, [8, 3, 22]
        ];
        let u = flat.reduce((acc, item) => {
            return acc.concat(item);
        });
        console.log(u);
    </script>
</body>

</html>

</html>